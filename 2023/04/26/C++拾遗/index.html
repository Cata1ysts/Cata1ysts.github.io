<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="ğŸ‘´è¦å­¦ä¹ Cè‰¹ğŸŒ¶ï¼">
<meta property="og:type" content="article">
<meta property="og:title" content="C++æ‹¾é—">
<meta property="og:url" content="http://example.com/2023/04/26/C++%E6%8B%BE%E9%81%97/index.html">
<meta property="og:site_name" content="Cata1yst&#39;s blog">
<meta property="og:description" content="ğŸ‘´è¦å­¦ä¹ Cè‰¹ğŸŒ¶ï¼">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-25T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-10T07:46:42.241Z">
<meta property="article:author" content="Cata1ysts">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2023/04/26/C++%E6%8B%BE%E9%81%97/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>C++æ‹¾é— | Cata1yst's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Cata1yst's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ç¥‡ä»Šå°šæœ‰æ¸…æµæœˆï¼Œæ›¾ç…§é«˜ç‹ä¸‡é©¬è¿‡</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/26/C++%E6%8B%BE%E9%81%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cata1ysts">
      <meta itemprop="description" content="åŠªåŠ›å­¦ä¹ cryptoå¹¶å¸Œæœ›æœ‰ä¸€ä¸ªwebå¤§æ‰‹å­æµ‡æµ‡çš„pwnèŒæ–°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cata1yst's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++æ‹¾é—
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-04-26 00:00:00" itemprop="dateCreated datePublished" datetime="2023-04-26T00:00:00+08:00">2023-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-07-10 15:46:42" itemprop="dateModified" datetime="2023-07-10T15:46:42+08:00">2023-07-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <div class="post-description">ğŸ‘´è¦å­¦ä¹ Cè‰¹ğŸŒ¶ï¼</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>å¼•ç”¨å…¶å®å°±æ˜¯å˜é‡çš„åˆ«åï¼Œ<strong>äºŒè€…å…±ç”¨ä¸€ä¸ªå­˜å‚¨ç©ºé—´</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> b=<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> &amp; a=b;</span><br><span class="line">b=<span class="number">2</span>;</span><br><span class="line">cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line"><span class="comment">//output: 2</span></span><br><span class="line">cout&lt;&lt;&amp;a&lt;&lt;endl&lt;&lt;&amp;b&lt;&lt;endl;</span><br><span class="line"><span class="comment">//output: 0x70fddc 0x70fddc</span></span><br></pre></td></tr></table></figure>

<p>å¼•ç”¨ä¸€æ—¦è¢«å£°æ˜å°±<strong>ä¸å¯ä»¥æ”¹å˜</strong>å…¶æ‰€ä»£è¡¨çš„å‚æ•°ï¼Œä»»ä½•å¯¹å¼•ç”¨å˜é‡çš„æ“ä½œå®é™…ä¸Šéƒ½æ˜¯å¯¹åŸå˜é‡çš„æ“ä½œã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬å£°æ˜äº† <code>yâ€‹</code> æ˜¯ <code>x</code> çš„å¼•ç”¨ï¼Œä¹‹åæˆ‘ä»¬å¸Œæœ› <code>y</code> å˜æˆ <code>z</code> çš„å¼•ç”¨ï¼Œä½†æ˜¯ç»“æœå´æ˜¯æˆ‘ä»¬åªæ˜¯æ”¹å˜äº† <code>x</code> çš„å€¼ï¼ŒäºŒè€…åœ°å€ä»ç„¶æ˜¯ä¸€æ ·çš„ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x=<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> z=<span class="number">15</span>;</span><br><span class="line"><span class="type">int</span> &amp; y=x;</span><br><span class="line">y=z;</span><br><span class="line">cout&lt;&lt;&amp;x&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;x&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;&amp;y&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;y&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;&amp;z&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;z&lt;&lt;endl;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0x70fdcc 15</span></span><br><span class="line"><span class="comment">0x70fdcc 15</span></span><br><span class="line"><span class="comment">0x70fdc8 15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>äºæ˜¯æˆ‘ä»¬æ›´åŠ æ·±å…¥åœ°æ€è€ƒå¼•ç”¨çš„æœ¬è´¨ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå¸¸æŒ‡é’ˆã€‚</p>
<p>æ³¨æ„è¿™é‡Œ <code>constâ€‹</code>  çš„ä½ç½®ï¼Œä¸å˜çš„æ˜¯ <code>p</code> è€Œä¸æ˜¯ <code>*p</code> ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> &amp; b = a ;<span class="comment">// int * const b = &amp; a;</span></span><br><span class="line">b=<span class="number">100</span>; <span class="comment">// * b = 100;</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºå¼•ç”¨æœ¬è´¨ä¸Šæ˜¯å¯¹åœ°å€çš„ä½œç”¨ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬å¸Œæœ›ç›´æ¥å¼•ç”¨ä¸€ä¸ªå¸¸æ•°æ˜¯åšä¸åˆ°çš„ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> &amp; a =<span class="number">100</span>;<span class="comment">//é”™è¯¯çš„ã€‚å› ä¸ºå¸¸æ•°100æ²¡æœ‰å…¶åœ°å€</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> &amp; a =<span class="number">100</span>;<span class="comment">//æ­£ç¡®çš„ã€‚è¿™é‡Œåˆ†ä¸¤æ­¥èµ° const int x=100; int &amp; a=x;</span></span><br></pre></td></tr></table></figure>

<p>å¼•ç”¨å’ŒæŒ‡é’ˆæœ‰ç›¸ä¼¼ä¹‹å¤„ä¹Ÿæœ‰ä¸åŒç‚¹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•ç”¨å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼ŒæŒ‡é’ˆä¸å¿…</span></span><br><span class="line"><span class="type">int</span> &amp; a; <span class="comment">// Ã—</span></span><br><span class="line"><span class="type">int</span> * p; <span class="comment">// âˆš</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•ç”¨ä¸èƒ½æŒ‡å‘NULL</span></span><br><span class="line"><span class="type">int</span> &amp; a =<span class="literal">NULL</span>; <span class="comment">// Ã—</span></span><br><span class="line"><span class="type">int</span> * p =<span class="literal">NULL</span>; <span class="comment">// âˆš</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•ç”¨å’ŒæŒ‡é’ˆçš„å¤§å°ä¸åŒï¼Œå¼•ç”¨çš„å¤§å°å³å…¶å¼•ç”¨å¯¹è±¡çš„å¤§å°ï¼ŒæŒ‡é’ˆçš„å¤§å°æ˜¯åœ°å€çš„å¤§å°</span></span><br><span class="line"><span class="type">int</span> &amp; a = b;</span><br><span class="line"><span class="type">int</span> * p = &amp;b;</span><br><span class="line">cout&lt;&lt;<span class="built_in">sizeof</span>(a)&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="built_in">sizeof</span>(p); <span class="comment">// 4 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹è‡ªå¢è¿ç®—çš„æ„ä¹‰ä¸åŒ</span></span><br><span class="line"><span class="type">int</span> &amp; a = b;</span><br><span class="line"><span class="type">int</span> *p = &amp; b;</span><br><span class="line">a++; <span class="comment">//b++</span></span><br><span class="line">p++; <span class="comment">//ä½¿pæŒ‡å‘ä¹‹åä¸€ä¸ªåœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•ç”¨æ²¡æœ‰å¤šçº§</span></span><br><span class="line">**p; <span class="comment">// âˆš</span></span><br><span class="line">&amp;&amp;a; <span class="comment">//Ã—</span></span><br></pre></td></tr></table></figure>

<p>æœ€åæ˜¯å¼•ç”¨çš„ä¸€äº›ç”¨æ³•</p>
<ol>
<li><p>ä½œä¸ºå‚æ•°</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span> <span class="params">(<span class="type">int</span> &amp; a,<span class="type">int</span> &amp; b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> c=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=a;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>ä½œä¸ºå‡½æ•°è¿”å›å€¼</p>
<p><strong>æ­¤æ—¶è¿”å›å€¼ä¸èƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œå¦åˆ™å‡½æ•°ç»“æŸåä¼šé‡Šæ”¾è¯¥åœ°å€çš„å†…å®¹ï¼</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> &amp; <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> c=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><h4 id="æ•°æ®åˆ†é…"><a href="#æ•°æ®åˆ†é…" class="headerlink" title="æ•°æ®åˆ†é…"></a>æ•°æ®åˆ†é…</h4><ol>
<li><p>éé™æ€æˆå‘˜å˜é‡ï¼Œåœ¨æ¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸­è¢«<strong>åˆ†é…å•ç‹¬ç©ºé—´</strong>ã€‚</p>
</li>
<li><p>é™æ€æˆå‘˜å˜é‡ï¼Œä¼šè¢«åˆ†é…ç©ºé—´ï¼Œä½†æ˜¯ä¸åœ¨å¯¹è±¡å®ä¾‹æ‰€å ç”¨çš„ç©ºé—´å†…è€Œæ˜¯å¤„äº<strong>å †åŒº</strong>ï¼Œæ‰€æœ‰å¯¹è±¡å®ä¾‹<strong>å…±ç”¨</strong></p>
</li>
<li><p>æˆå‘˜å‡½æ•°ï¼Œä»…æ˜¯å£°æ˜ï¼Œ<strong>ä¸åœ¨</strong>å¯¹è±¡å®ä¾‹çš„ç©ºé—´å†…ã€‚</p>
<p>å› æ­¤ <code>sizeof()â€‹</code> å‡½æ•°ä½œç”¨äºæŸä¸ªå¯¹è±¡å®ä¾‹æ—¶çš„è¿”å›å€¼æ˜¯è¯¥ç±»<strong>æ‰€æœ‰éé™æ€æˆå‘˜å˜é‡å†…å­˜ä¹‹å’Œ</strong>ã€‚</p>
</li>
</ol>
<h4 id="æ„é€ å‡½æ•°å¿«é€Ÿåˆå§‹åŒ–"><a href="#æ„é€ å‡½æ•°å¿«é€Ÿåˆå§‹åŒ–" class="headerlink" title="æ„é€ å‡½æ•°å¿«é€Ÿåˆå§‹åŒ–"></a>æ„é€ å‡½æ•°å¿«é€Ÿåˆå§‹åŒ–</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="type">int</span> a;</span><br><span class="line">    	<span class="type">int</span> b;</span><br><span class="line">  	<span class="keyword">public</span>:</span><br><span class="line">    	<span class="built_in">C</span>(x,y):<span class="built_in">a</span>(x),<span class="built_in">b</span>(y)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ‹·è´æ„é€ å‡½æ•°"><a href="#æ‹·è´æ„é€ å‡½æ•°" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°"></a>æ‹·è´æ„é€ å‡½æ•°</h4><p><strong>ä½¿ç”¨æƒ…æ™¯</strong></p>
<ol>
<li>æ ¹æ®å·²ç»å»ºç«‹çš„å®ä¾‹æ¥åˆå§‹åŒ–å¦ä¸€ä¸ªå®ä¾‹ã€‚</li>
<li>å‡½æ•°ä¼ å‚</li>
<li>å‡½æ•°è¿”å›å±€éƒ¨å¯¹è±¡</li>
</ol>
<h5 id="æ·±æ‹·è´ä¸æµ…æ‹·è´"><a href="#æ·±æ‹·è´ä¸æµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´ä¸æµ…æ‹·è´"></a><strong>æ·±æ‹·è´ä¸æµ…æ‹·è´</strong></h5><p>æµ…æ‹·è´å³ç›´æ¥å°†åŸæ¥å‚æ•°çš„åœ°å€ä¼ ç»™æ–°å‚æ•°ã€‚</p>
<p>æ·±æ‹·è´æ˜¯æŒ‡é‡æ–°å¼€è¾Ÿç©ºé—´ï¼Œä¹‹ååœ¨ç©ºé—´ä¸­å†™å…¥å‚æ•°å€¼ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ä¸¤ç§æ‹·è´æ²¡å¿…è¦åŒºåˆ†ï¼Œä½†æ˜¯åœ¨éœ€è¦åå¤å¼€è¾Ÿé‡Šæ”¾ç©ºé—´çš„åœ°æ–¹è¦æ ¼å¤–å°å¿ƒã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">int</span>* b;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">C</span>(<span class="type">int</span> a,<span class="type">int</span> b):<span class="built_in">a</span>(a),<span class="built_in">b</span>(<span class="keyword">new</span> <span class="built_in">int</span>(b))&#123;&#125;</span><br><span class="line">		<span class="built_in">C</span>(<span class="type">const</span> C &amp;C1)&#123;</span><br><span class="line">			<span class="keyword">this</span>-&gt;a=C1.a;</span><br><span class="line">			<span class="comment">//this-&gt;b = C1.b; æµ…æ‹·è´ </span></span><br><span class="line">			<span class="keyword">this</span>-&gt;b=<span class="keyword">new</span> <span class="built_in">int</span> (*C1.b);</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">C</span>()&#123;</span><br><span class="line">            cout&lt;&lt;&amp;b&lt;&lt;endl;</span><br><span class="line">			<span class="keyword">delete</span> b;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">C <span class="title">C1</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">C <span class="title">C2</span><span class="params">(C1)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">0x70fdf8</span></span><br><span class="line"><span class="comment">0x70fe08</span></span><br><span class="line"><span class="comment">é‡‡ç”¨æµ…æ‹·è´å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™æ—¶C1ï¼ŒC2çš„æˆå‘˜å˜é‡bæ˜¯åŒä¸€å—åœ°å€ï¼ŒC1æ‰§è¡Œææ„å‡½æ•°åè¯¥åœ°å€è¢«é‡Šæ”¾ï¼ŒC2å†æ‰§è¡Œå°±æ‰¾ä¸åˆ°é‡Šæ”¾çš„ç©ºé—´äº†</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><p>æ‹·è´æ„é€ å‡½æ•°çš„åº”å½“ä½¿ç”¨å¼•ç”¨</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">C</span> (<span class="type">const</span> C&amp; C1)&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™å’Œæ‹·è´æ„é€ å‡½æ•°çš„ä½¿ç”¨æƒ…æ™¯ç›¸å…³ï¼Œå‡ä½¿æˆ‘ä»¬é€‰ç”¨çš„å‚æ•°æ˜¯ <code>const C C1</code>ï¼Œåˆ™æ ¹æ®æ‹·è´æ„é€ å‡½æ•°çš„ä½¿ç”¨è§„åˆ™ï¼Œä¼ å…¥å‚æ•°æ˜¯éœ€è¦è°ƒç”¨è¯¥å‡½æ•°çš„ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿæ— ç©·é€’å½’æœ€ç»ˆç¨‹åºå´©æºƒã€‚è€Œé€šè¿‡å¼•ç”¨ç›¸å½“äºç›´æ¥ä¼ å…¥åœ°å€ï¼Œå°±å¯ä»¥é¿å…è¿™ä¸€æƒ…å†µã€‚è‡³äº<code>const</code>åˆ™æ˜¯ä¸ºäº†é˜²æ­¢ä¸å¿…è¦çš„å¤±è¯¯å¯¼è‡´ä¼ å…¥çš„å®ä¾‹è¢«æ›´æ”¹ã€‚</p>
<h4 id="é™æ€æˆå‘˜å˜é‡"><a href="#é™æ€æˆå‘˜å˜é‡" class="headerlink" title="é™æ€æˆå‘˜å˜é‡"></a>é™æ€æˆå‘˜å˜é‡</h4><p>ä»¥<code>static</code>ä½œä¸ºå…³é”®å­—çš„æˆå‘˜å˜é‡ï¼Œå…¶ç‰¹ç‚¹æ˜¯<strong>ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">static</span> <span class="type">int</span> sa;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">    	<span class="comment">//C(int a,int b):a(a),sa(b)&#123;&#125;  Ã—</span></span><br><span class="line">		<span class="comment">//[Error] &#x27;int C::sa&#x27; is a static data member; it can only be initialized at its definition</span></span><br><span class="line">    	<span class="built_in">C</span>(<span class="type">int</span> a):<span class="built_in">a</span>(a)&#123;&#125;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="type">int</span> C::sa=<span class="number">10</span>; <span class="comment">//âˆš</span></span><br></pre></td></tr></table></figure>

<p>ä»¥<code>static</code>ä¸ºå…³é”®å­—çš„æˆå‘˜å‡½æ•°ï¼Œå…¶ç‰¹ç‚¹æ˜¯åªèƒ½<strong>è°ƒç”¨å¯¹è±¡çš„é™æ€æˆå‘˜å˜é‡</strong>ã€‚è¿™æ˜¯å› ä¸ºé™æ€æˆå‘˜å‡½æ•°çš„åˆå§‹åŒ–æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œçš„ï¼Œæ­¤æ—¶è®¡ç®—æœºåªç»™é™æ€å˜é‡åˆ†é…äº†ç©ºé—´è€Œå¯¹äºä¸€èˆ¬å˜é‡ï¼Œç¨‹åºè¿˜ä¸çŸ¥é“å…¶åœ°å€ã€‚</p>
<p>å¯¹äº<code>public</code> çš„é™æ€æˆå‘˜å˜é‡ï¼Œå¯ä»¥åœ¨ç±»å¤–å†…é€šè¿‡<code>C::sa</code>æ¥è®¿é—®ï¼Œè€Œ<code>private</code>ç±»å‹çš„é™æ€æˆå‘˜å˜é‡åˆ™ä¸å¯åœ¨ç±»å¤–è®¿é—®ã€‚</p>
<h4 id="thisæŒ‡é’ˆ"><a href="#thisæŒ‡é’ˆ" class="headerlink" title="thisæŒ‡é’ˆ"></a>thisæŒ‡é’ˆ</h4><p><code>this</code>æŒ‡é’ˆæ˜¯æ¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹è¢«åˆå§‹åŒ–æ—¶è‡ªå¸¦çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸éœ€è¦è‡ªå·±å®šä¹‰ã€‚å…¶ä½¿ç”¨åœºæ™¯å¦‚ä¸‹</p>
<ol>
<li><p>å½¢å‚å’Œæˆå‘˜å˜é‡åŒå</p>
<p><code>this-&gt;a=a</code></p>
</li>
<li><p>å‡½æ•°è¿”å›å€¼æ˜¯å½“å‰å¯¹è±¡</p>
<p><code>return *this</code></p>
</li>
</ol>
<p><strong>ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°</strong></p>
<p>â€‹	å¦‚æœè¯¥æˆå‘˜å‡½æ•°æ²¡æœ‰ç”¨åˆ°<code>this</code>æŒ‡é’ˆï¼Œåˆ™è®¿é—®æ²¡é—®é¢˜ï¼Œå¦åˆ™å¤±è´¥ã€‚</p>
<p>â€‹	åˆ¤æ–­ä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸­æœ‰æ²¡æœ‰ç”¨åˆ°<code>this</code>æŒ‡é’ˆæœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯è§‚å¯Ÿå‡½æ•°ä¸­æ˜¯å¦å‡ºç°æˆå‘˜å˜é‡ã€‚</p>
<p>â€‹	ç»¼ä¸Šï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ªå¯¹è±¡æŒ‡é’ˆå˜é‡è®¿é—®ç±»å‡½æ•°æ—¶ï¼Œéœ€è¦ä¿è¯è¯¥æŒ‡é’ˆä¸æ˜¯ç©ºæŒ‡é’ˆï¼Œæˆ–è€…æ›´è§„èŒƒåœ°ï¼Œåœ¨å‡½æ•°ä¸­åŠ å…¥</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (p==<span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br></pre></td></tr></table></figure>



<h4 id="constä¿®é¥°çš„æˆå‘˜å‡½æ•°"><a href="#constä¿®é¥°çš„æˆå‘˜å‡½æ•°" class="headerlink" title="constä¿®é¥°çš„æˆå‘˜å‡½æ•°"></a>constä¿®é¥°çš„æˆå‘˜å‡½æ•°</h4><p>å¸¸å‡½æ•°æ˜¯æŒ‡åœ¨å‡½æ•°åé¢æ·»åŠ <code>const</code>å…³é”®å­—çš„æˆå‘˜å‡½æ•°</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="type">int</span> a;</span><br><span class="line">    	<span class="keyword">mutable</span> <span class="type">int</span> b;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span> <span class="type">const</span></span>&#123;</span><br><span class="line">            a=<span class="number">10</span>;</span><br><span class="line">            b=<span class="number">20</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//[Error] assignment of member &#x27;C::a&#x27; in read-only object</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œå¸¸å‡½æ•°æ˜¯ä¸èƒ½æ”¹å˜æˆå‘˜å˜é‡çš„ï¼Œä½†æ˜¯å¦‚æœæˆå‘˜å˜é‡å‰é¢åŠ äº†<code>mutable</code>å…³é”®å­—ï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œæ”¹å˜ã€‚</p>
<p>å¸¸å‡½æ•°é€šå¸¸å­˜åœ¨äºå¸¸å¯¹è±¡ã€‚<strong>å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°</strong>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="type">int</span> a;</span><br><span class="line">    	<span class="keyword">mutable</span> <span class="type">int</span> b;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="function"><span class="type">void</span> <span class="title">fun2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        	a=<span class="number">100</span>;</span><br><span class="line">        	b=<span class="number">110</span>;</span><br><span class="line">   		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">const</span> C a;</span><br><span class="line">	a.<span class="built_in">fun2</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//[Error] passing &#x27;const C&#x27; as &#x27;this&#x27; argument of &#x27;void C::fun2()&#x27; discards qualifiers [-fpermissive]</span></span><br></pre></td></tr></table></figure>



<h4 id="å‹å…ƒ"><a href="#å‹å…ƒ" class="headerlink" title="å‹å…ƒ"></a>å‹å…ƒ</h4><p>é€šè¿‡æ·»åŠ å‹å…ƒçš„æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥è®¿é—®å¯¹è±¡çš„ç§æœ‰æˆå‘˜ã€‚ï¼ˆåœ¨ç±»<code>A</code>ä¸­å£°æ˜<code>B</code>æ˜¯å‹å…ƒï¼Œç›¸å½“äº<code>B</code>èƒ½è®¿é—®<code>A</code>çš„ç§æœ‰æˆå‘˜ï¼Œåä¹‹ä¸èƒ½ï¼‰</p>
<p>å‹å…ƒçš„ä½¿ç”¨æƒ…å½¢å¤§è‡´åˆ†ä¸ºä¸‰ç§ï¼š</p>
<ol>
<li><p>å…¨å±€å‡½æ•°ä½œä¸ºå‹å…ƒ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">C</span>():<span class="built_in">a</span>(<span class="number">1</span>),<span class="built_in">b</span>(<span class="number">2</span>)&#123;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">Print</span><span class="params">(C &amp; c)</span></span>; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(C &amp; c)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;c.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c.b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	C c;</span><br><span class="line">	<span class="built_in">Print</span>(c);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>ç±»ä½œå‹å…ƒ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">B</span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">C</span>():<span class="built_in">a</span>(<span class="number">1</span>),<span class="built_in">b</span>(<span class="number">2</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(C&amp; c)</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;c.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c.b&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	C c;</span><br><span class="line">	B b;</span><br><span class="line">	b.<span class="built_in">print</span>(c);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>æˆå‘˜å‡½æ•°ä½œå‹å…ƒ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">print1</span><span class="params">(C&amp; c)</span></span>;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">print2</span><span class="params">(C&amp; c)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">B::print1</span><span class="params">(C&amp; c)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">C</span>():<span class="built_in">a</span>(<span class="number">1</span>),<span class="built_in">b</span>(<span class="number">2</span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">B::print1</span><span class="params">(C&amp; c)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;c.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c.b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">B::print2</span><span class="params">(C&amp; c)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;c.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;c.b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	C c;</span><br><span class="line">	B b;</span><br><span class="line">	b.<span class="built_in">print1</span>(c);</span><br><span class="line">	b.<span class="built_in">print2</span>(c);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œåªæœ‰<code>B::print1()</code>å¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œ<code>b::print2()</code>å› ä¸ºæ²¡æœ‰å£°æ˜å‹å…ƒè€ŒæŠ¥é”™ã€‚</p>
<p>è¿™ç§å¯¹äºç±»çš„æŸäº›æˆå‘˜å‡½æ•°çš„å‹å…ƒå£°æ˜åœ¨ä¹‹åé‡è½½<code>cout</code>å‡½æ•°ä¸­è¿˜ä¼šç”¨åˆ°ã€‚</p>
</li>
</ol>
<h4 id="è¿ç®—ç¬¦é‡è½½"><a href="#è¿ç®—ç¬¦é‡è½½" class="headerlink" title="è¿ç®—ç¬¦é‡è½½"></a>è¿ç®—ç¬¦é‡è½½</h4><ol>
<li><p>è‡ªå¢ï¼ˆå‡ï¼‰</p>
</li>
<li><p><code>cout</code>ï¼ˆ<code>cin</code>ï¼‰</p>
</li>
<li><p><code>()</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span> &lt;&lt; (ostream&amp; cout,B b);</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">B</span>():<span class="built_in">a</span>(<span class="number">2</span>),<span class="built_in">b</span>(<span class="number">3</span>)&#123;</span><br><span class="line">		&#125;</span><br><span class="line">		B&amp; <span class="keyword">operator</span> ++ ();<span class="comment">//å‰ç½® </span></span><br><span class="line">		B <span class="keyword">operator</span> ++ (<span class="type">int</span>);<span class="comment">//åç½® </span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">()</span></span>;<span class="comment">//å‡½æ•°è°ƒç”¨ç¬¦</span></span><br><span class="line">&#125;;</span><br><span class="line">B&amp; B::<span class="keyword">operator</span> ++()&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;++b : &quot;</span>;</span><br><span class="line">	<span class="keyword">this</span>-&gt;a++;</span><br><span class="line">	<span class="keyword">this</span>-&gt;b++;</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">B B::<span class="keyword">operator</span> ++(<span class="type">int</span>)&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;b++ : &quot;</span>;</span><br><span class="line">	B temp=*<span class="keyword">this</span>;</span><br><span class="line">	<span class="keyword">this</span>-&gt;a++;</span><br><span class="line">	<span class="keyword">this</span>-&gt;b++;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">B::operator</span><span class="params">()</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;load operator () : &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">ostream&amp; <span class="keyword">operator</span> &lt;&lt;(ostream&amp; cout,B b)&#123;</span><br><span class="line">	cout&lt;&lt;b.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b.b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	B b;</span><br><span class="line">	<span class="built_in">b</span>();</span><br><span class="line">	cout&lt;&lt;b;</span><br><span class="line">	cout&lt;&lt;b++;</span><br><span class="line">	cout&lt;&lt;++b;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><ol>
<li>å‰ç½®<code>++</code>ç”±äºæ˜¯å…ˆåŠ åç”¨ï¼Œå› æ­¤è¿”å›çš„æ˜¯å½“å‰å¯¹è±¡è‡ªå¢åçš„å¼•ç”¨ã€‚</li>
<li>åç½®<code>++</code>æ˜¯å…ˆç”¨ååŠ ï¼Œå› æ­¤å‡½æ•°è¿”å›å€¼åº”è¯¥æ˜¯è‡ªå¢å‰è‡ªèº«çš„ä¸€ä¸ªæ‹·è´ï¼Œè¯¥æ‹·è´åœ¨å‡½æ•°ç»“æŸæ—¶é‡Šæ”¾ï¼Œæ•…ä¸èƒ½è¿”å›å…¶å¼•ç”¨ã€‚</li>
<li><code>cout&lt;&lt;b++</code>åœ¨ä½¿ç”¨æ—¶è¦æ³¨æ„è‡ªå·±é‡è½½æ—¶çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚é‡è½½æ—¶å‚æ•°ä¸º<code>B&amp; b</code>ï¼Œåˆ™ä¸èƒ½è¾“å‡ºï¼Œå› ä¸º<code>b++</code>çš„è¿”å›å€¼ä¸æ˜¯å¼•ç”¨ã€‚</li>
<li>é‡è½½ç±»<code>B</code>çš„<code>operator &lt;&lt; ()</code>æ˜¯é‡è½½å·¦ç§»è¿ç®—ç¬¦ï¼Œæƒ³è¦ç”¨<code>cout</code>è¾“å‡ºå¯¹è±¡ï¼Œè¦é‡è½½çš„åº”è¯¥æ˜¯<code>ostream</code>çš„å·¦ç§»è¿ç®—ç¬¦ã€‚</li>
<li><code>()</code>é‡è½½åœ¨ä¹‹åä¼ªå‡½æ•°è¿˜ä¼šç”¨åˆ°ã€‚</li>
</ol>
<h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><h5 id="ç»§æ‰¿çš„ç‰¹ç‚¹"><a href="#ç»§æ‰¿çš„ç‰¹ç‚¹" class="headerlink" title="ç»§æ‰¿çš„ç‰¹ç‚¹"></a>ç»§æ‰¿çš„ç‰¹ç‚¹</h5><ol>
<li>çˆ¶ç±»çš„ç§æœ‰æˆå‘˜å­ç±»ä¸€å¾‹ä¸èƒ½è®¿é—®ã€‚ä¸åŒçš„ç»§æ‰¿å½¢æ€åªå†³å®šçˆ¶ç±»çš„å…¬ç”¨æˆå‘˜å’Œä¿æŠ¤æˆå‘˜åœ¨å­ç±»ä¸­çš„å±æ€§ã€‚</li>
<li>æ„é€ ææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸ºï¼šçˆ¶ç±»æ„é€ â€“&gt;å­ç±»æ„é€ â€“&gt;çˆ¶ç±»ææ„â€“&gt;å­ç±»ææ„</li>
<li>è®¿é—®çˆ¶ç±»çš„<strong>åŒåå‡½æ•°</strong>æˆ–<strong>æˆå‘˜å˜é‡</strong>éœ€è¦åŠ ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬å‚æ•°ä¸åŒçš„é‡è½½å‡½æ•°ã€‚</li>
<li>ç›´æ¥è®¿é—®åŒåæˆå‘˜æ—¶ï¼Œè¿”å›å­ç±»æˆå‘˜ã€‚</li>
<li>å¤šé‡ç»§æ‰¿æ—¶ï¼Œå­ç±»åªèƒ½è®¿é—®åˆ°å…¶<strong>ç›´æ¥çˆ¶ç±»</strong>ï¼Œçˆ¶ç±»çš„çˆ¶ç±»æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚</li>
</ol>
<h5 id="ç»§æ‰¿çš„æˆå‘˜å˜é‡"><a href="#ç»§æ‰¿çš„æˆå‘˜å˜é‡" class="headerlink" title="ç»§æ‰¿çš„æˆå‘˜å˜é‡"></a><strong>ç»§æ‰¿çš„æˆå‘˜å˜é‡</strong></h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">    	<span class="type">int</span> b;</span><br><span class="line">    	<span class="type">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>: <span class="keyword">public</span> A&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">    	<span class="type">int</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>: <span class="keyword">public</span> A&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> c;</span><br><span class="line">    	<span class="type">int</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>:  <span class="keyword">public</span> B,  <span class="keyword">public</span> C&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> d;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šè¿°ä»£ç ä¸ºä¾‹ï¼Œå­ç±»<code>D</code>çš„ç©ºé—´å¤§è‡´å¯åˆ†ä¸º<code>B</code>ã€<code>C</code>ã€<code>D</code>ä¸‰å—</p>
<table>
<thead>
<tr>
<th>æˆå‘˜å˜é‡</th>
<th>æ¥æº</th>
<th>è®¿é—®æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td>B::a</td>
<td>ç»§æ‰¿è‡ªBï¼ˆè¿›ä¸€æ­¥ç»§æ‰¿è‡ªAï¼‰</td>
<td>d.B::a</td>
</tr>
<tr>
<td>B::b</td>
<td>ç»§æ‰¿è‡ªB</td>
<td>d.B::b</td>
</tr>
<tr>
<td>B::c</td>
<td>ç»§æ‰¿è‡ªBï¼ˆè¿›ä¸€æ­¥ç»§æ‰¿è‡ªAï¼‰</td>
<td>d.B::c</td>
</tr>
<tr>
<td>B::d</td>
<td>ç»§æ‰¿è‡ªB</td>
<td>d.B::d</td>
</tr>
<tr>
<td>C::a</td>
<td>ç»§æ‰¿è‡ªCï¼ˆè¿›ä¸€æ­¥ç»§æ‰¿è‡ªAï¼‰</td>
<td>d.C::a</td>
</tr>
<tr>
<td>C::b</td>
<td>ç»§æ‰¿è‡ªC ï¼ˆè¿›ä¸€æ­¥ç»§æ‰¿è‡ªAï¼‰</td>
<td>d.C::b</td>
</tr>
<tr>
<td>C::c</td>
<td>ç»§æ‰¿è‡ªC</td>
<td>d.C::c</td>
</tr>
<tr>
<td>C::d</td>
<td>ç»§æ‰¿è‡ªC</td>
<td>d.C::d</td>
</tr>
<tr>
<td>D::d</td>
<td>è‡ªèº«</td>
<td>d.d</td>
</tr>
</tbody></table>
<p>æ­¤å¤–è¿˜æœ‰<code>D::B::b</code>å’Œ<code>D::C::c</code>ä¸¤ä¸ªå˜é‡ï¼Œä½†æ˜¯æ— æ³•è®¿é—®ã€‚</p>
<h5 id="è™šç»§æ‰¿"><a href="#è™šç»§æ‰¿" class="headerlink" title="è™šç»§æ‰¿"></a>è™šç»§æ‰¿</h5><p>è™šç»§æ‰¿æ˜¯ä¸ºäº†å‡å°‘å¤šé‡ç»§æ‰¿ä¸­äºŒä¹‰æ€§çš„å‡ºç°è€Œäº§ç”Ÿçš„ã€‚</p>
<p>å¦‚ä¸Šå›¾ï¼Œåœ¨è±å½¢ç»§æ‰¿ä¸‹ï¼Œæœ€ç»ˆå­ç±»<code>D</code>æœ‰ç€<code>11</code>ä¸ªæˆå‘˜å˜é‡ï¼Œä½†æ˜¯æˆå‘˜å˜é‡çš„è¡¨ç¤ºç¬¦å·åªç”¨äº†<code>a</code>ã€<code>b</code>ã€<code>c</code>ã€<code>d</code>å››ç§ï¼Œè¿™å°±äº§ç”Ÿäº†äºŒä¹‰æ€§ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬é‡‡ç”¨è™šç»§æ‰¿ï¼Œå³åœ¨<code>B</code>ã€<code>C</code>ç±»çš„å®šä¹‰ä¸­åŠ ä¸Š<code>virtual</code>å…³é”®å­—</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">    	<span class="type">int</span> b;</span><br><span class="line">    	<span class="type">int</span> c;</span><br><span class="line">    	<span class="built_in">A</span>():<span class="built_in">a</span>(<span class="number">1</span>),<span class="built_in">b</span>(<span class="number">2</span>),<span class="built_in">c</span>(<span class="number">3</span>)&#123;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:  <span class="keyword">virtual</span> <span class="keyword">public</span> A&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">    	<span class="type">int</span> d;</span><br><span class="line">    	<span class="built_in">B</span>():<span class="built_in">b</span>(<span class="number">4</span>),<span class="built_in">d</span>(<span class="number">5</span>)&#123;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>: <span class="keyword">virtual</span> <span class="keyword">public</span> A&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> c;</span><br><span class="line">    	<span class="type">int</span> d;</span><br><span class="line">    	<span class="built_in">C</span>():<span class="built_in">c</span>(<span class="number">6</span>),<span class="built_in">d</span>(<span class="number">7</span>)&#123;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>:  <span class="keyword">public</span> B,  <span class="keyword">public</span> C&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> d;</span><br><span class="line">		<span class="built_in">D</span>():<span class="built_in">d</span>(<span class="number">8</span>)&#123;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	D d;</span><br><span class="line">	cout&lt;&lt;d.a&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;d.b&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;d.c&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;d.d&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;d.B::d&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output: 1 4 6 8 5</span></span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è™šç»§æ‰¿ä»¥åï¼ŒäºŒä¹‰æ€§å°±æ¶ˆå¤±äº†ã€‚</p>
<p>å†æ¥çœ‹çœ‹æœ€ç»ˆå­ç±»ä¸­ä¿å­˜çš„æ•°æ®</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span> <span class="comment">//è¯¥æ•°æ®æ¥è‡ªA</span></span><br><span class="line">b=<span class="number">4</span> <span class="comment">//è¯¥æ•°æ®æ¥è‡ªB</span></span><br><span class="line">c=<span class="number">6</span> <span class="comment">//è¯¥æ•°æ®æ¥è‡ªC</span></span><br><span class="line">d=<span class="number">8</span> <span class="comment">//è¯¥æ•°æ®æ¥è‡ªD</span></span><br><span class="line">B::d=<span class="number">5</span> <span class="comment">//è¯¥æ•°æ®æ¥è‡ªB</span></span><br></pre></td></tr></table></figure>

<p>å³<strong>åŒåæˆå‘˜å˜é‡ä»¥æœ€æ–°ä¿®æ”¹çš„å€¼ä¸ºå‡†</strong>ã€‚</p>
<p>æœ€åè®¨è®ºä¸€äº›è™šç»§æ‰¿çš„è§„åˆ™ï¼ˆä»ç„¶ä»¥<code>A</code>ã€<code>B</code>ã€<code>C</code>ã€<code>D</code>çš„è±å½¢ç»§æ‰¿ä¸ºä¾‹ï¼‰</p>
<ol>
<li><code>A</code>ä¸­å®šä¹‰äº†å˜é‡<code>a</code>ï¼Œè€Œ<code>B</code>ã€<code>C</code>å‡æ²¡æœ‰è¯¥å˜é‡ï¼Œåˆ™<code>D</code>ç›´æ¥è®¿é—®aæ—¶ä»¥<code>A</code>ä¸­ä¸ºå‡†ï¼Œæ— äºŒä¹‰æ€§ã€‚</li>
<li><code>A</code>ä¸­å®šä¹‰äº†å˜é‡<code>a</code>ï¼Œè€Œ<code>B</code>ï¼ˆæˆ–<code>C</code>ï¼‰å­˜åœ¨åŒåæˆå‘˜å˜é‡ï¼Œåˆ™Dä¸­ç›´æ¥è®¿é—®<code>a</code>ä»¥<code>B</code>ï¼ˆæˆ–<code>C</code>ï¼‰ä¸ºå‡†ï¼Œæ— äºŒä¹‰æ€§ã€‚</li>
<li><code>A</code>ä¸­å®šä¹‰äº†å˜é‡<code>a</code>ï¼Œ<code>B</code>ã€<code>C</code>éƒ½åŒ…å«åŒåæˆå‘˜å˜é‡ï¼Œ<code>D</code>ä¸­ç›´æ¥è®¿é—®<code>a</code>ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚</li>
</ol>
<p>å¯ä»¥çœ‹å‡ºï¼Œä¸€æ—¦å‡ºç°äº†å¤šé‡ç»§æ‰¿ï¼Œä¼šå¤§å¤§é™ä½ç¨‹åºçš„å¯è¯»æ€§ï¼Œå› æ­¤<strong>éå¿…è¦ä¸è¦å‡ºç°å¤šç»§æ‰¿</strong></p>
<h5 id="è™šç»§æ‰¿å†…å­˜åˆ†é…"><a href="#è™šç»§æ‰¿å†…å­˜åˆ†é…" class="headerlink" title="è™šç»§æ‰¿å†…å­˜åˆ†é…"></a><strong>è™šç»§æ‰¿å†…å­˜åˆ†é…</strong></h5><p>è¿˜æ˜¯ä¸Šé¢çš„è±å½¢ç»§æ‰¿ï¼Œæˆ‘ä»¬è¾“å‡ºä¸€ä¸‹å†…å­˜</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(A)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(B)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(C)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(D)&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output : 12 24 24 40</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡è°ƒè¯•å¯ä»¥æŸ¥çœ‹å„ä¸ªç±»çš„å†…å­˜ç»“æ„ã€‚</p>
<p><code>A</code>åŒ…å« aã€bã€cä¸‰ä¸ª<code>int</code>å˜é‡</p>
<p><code>B</code>åŒ…å«<code>A</code>çš„aã€bã€cä»¥åŠè‡ªèº«çš„bã€dï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ª<code>__vptr</code>å˜é‡ã€‚</p>
<p><code>C</code>å’Œ<code>B</code>ç±»ä¼¼ã€‚</p>
<p><code>D</code>åˆ™åˆ†åˆ«ä»<code>B</code>ã€<code>C</code>ä¸­ç»§æ‰¿äº†è¿™ä¸ª<code>__vptr</code>ã€‚</p>
<p>å…¶ä»–éƒ½å¥½ç†è§£ï¼Œå…³é”®æ˜¯è¿™ä¸ª<code>__vptr</code>ï¼ˆä¹Ÿæœ‰çš„ç¼–è¯‘å™¨å«ä»–å®ƒ<code>__vbptr</code>ï¼‰ã€‚</p>
<p>åœ¨è™šç»§æ‰¿ä¸­ï¼Œå†…å­˜åŒºåŸŸè¢«åˆ’åˆ†ä¸ºä¸å˜åŒºå’Œå…±äº«åŒºã€‚å…±äº«åŒºä¹Ÿå°±æ˜¯æ‰€è°“<strong>è™šåŸºç±»</strong>æ‰€åœ¨çš„å†…å­˜åœ°å€ã€‚å…±äº«åŒºä¼šéšç€å­ç±»æ•°æ®çš„æ›´æ–°è€Œæ›´æ–°ï¼Œé‚£ä¹ˆæ˜¾ç„¶ï¼Œå­ç±»éœ€è¦ä¸€ä¸ªæŒ‡é’ˆæ¥ä»å½“å‰åœ°å€æ‰¾åˆ°è™šåŸºç±»çš„åœ°å€ç„¶åæ›´æ–°æ•°æ®ï¼Œè¿™å°±æ˜¯<code>__vbptr</code>çš„ä½œç”¨ã€‚</p>
<p><strong>å°†<code>__vbptr</code>ç†è§£æˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µé¢å¤–æ·»åŠ å¦‚è™šåŸºç±»çš„å­ç±»ä¸­çš„ä¸€ä¸ªæˆå‘˜å˜é‡å°±å¯ä»¥äº†ã€‚</strong></p>
<h4 id="è™šå‡½æ•°"><a href="#è™šå‡½æ•°" class="headerlink" title="è™šå‡½æ•°"></a>è™šå‡½æ•°</h4><p>è™šå‡½æ•°æœ‰ç‚¹åƒè™šç»§æ‰¿ï¼Œåªä¸è¿‡å®ƒæ˜¯â€œè™šç»§æ‰¿â€äº†çˆ¶ç±»çš„æŸäº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä»¥<code>virtual</code>ä½œä¸ºå…³é”®å­—ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line">		<span class="built_in">A</span>()&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;A()\n&quot;</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;fun() in A\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;fun1() in A\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">A</span>()&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;~A()\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">int</span> b;</span><br><span class="line">		<span class="built_in">B</span>()&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;B()\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;fun() in B\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">fun1</span><span class="params">()</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;fun1() in B\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">B</span>()&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;~B()\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡å¯¹<code>A</code>ã€<code>B</code>å ç”¨å†…å­˜ï¼ˆ<strong>æ­¤å¤„ç”¨<code>32</code>ä½</strong>ï¼Œç±»çš„å®šä¹‰å¦‚ä¸Šï¼‰çš„æµ‹è¯•æ¥å¼•å‡ºæ¥ä¸‹æ¥çš„å†…å®¹</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(A)&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;<span class="built_in">sizeof</span>(B)&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 8 12</span></span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æ¥è¯´ï¼Œ<code>A</code>æœ‰ä¸€ä¸ª<code>int</code>å‹å˜é‡ï¼Œå…¶ä½™éƒ½æ˜¯å‡½æ•°ï¼Œåº”è¯¥å ç”¨<code>4</code>å­—èŠ‚ï¼›<code>B</code>åœ¨<code>A</code>çš„åŸºç¡€ä¸ŠåˆåŠ äº†ä¸€ä¸ª<code>int</code>å˜é‡ï¼Œåº”è¯¥æ˜¯<code>8</code>å­—èŠ‚ã€‚ä½†æ˜¯æµ‹è¯•ç»“æœæ­£å¥½æ˜¯äºŒè€…åˆ†åˆ«åŠ <code>4</code>ã€‚è¿™é‡Œç•™ä¸€ä¸ªæ‚¬å¿µã€‚</p>
<h5 id="vfptræŒ‡é’ˆ"><a href="#vfptræŒ‡é’ˆ" class="headerlink" title="__vfptræŒ‡é’ˆ"></a><code>__vfptr</code>æŒ‡é’ˆ</h5><p>ä¹‹åå†æµ‹è¯•å¦‚ä¸‹ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	A* p;</span><br><span class="line">	p=<span class="keyword">new</span> B;</span><br><span class="line">	p-&gt;<span class="built_in">fun</span>();</span><br><span class="line">	p-&gt;<span class="built_in">fun1</span>();</span><br><span class="line">	<span class="keyword">delete</span> p;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">A()</span></span><br><span class="line"><span class="comment">B()</span></span><br><span class="line"><span class="comment">fun() in B</span></span><br><span class="line"><span class="comment">fun1() in A</span></span><br><span class="line"><span class="comment">~A()</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œäº§ç”Ÿäº†ä¸¤ä¸ªé—®é¢˜</p>
<ol>
<li>ä¸ºä»€ä¹ˆ<code>virtual</code>å…³é”®å­—ä¿®é¥°å‰åï¼ŒåŒä¸€ä¸ªæŒ‡é’ˆ<code>p</code>è®¿é—®åˆ°çš„å‡½æ•°ä¸æ˜¯åŒä¸€ä¸ªç±»ï¼Ÿ</li>
<li>å­ç±»çš„ææ„å‡½æ•°ï¼Ÿ</li>
</ol>
<p>æˆ‘ä»¬å¼•å…¥åˆšæ‰å¤šä½™çš„å››å­—èŠ‚å˜é‡â€”â€”<code>__vfptr</code>ï¼Œè¿™ä¸ªæŒ‡é’ˆçš„æ•°æ®ç±»å‹æ˜¯<code>**void</code>ï¼Œè€Œå®ƒæ‰€æŒ‡å‘çš„<code>*void</code>æ•°ç»„å°±æ˜¯è§£å†³ä¸Šè¿°é—®é¢˜çš„å…³é”®â€”â€”è™šå‡½æ•°è¡¨ã€‚</p>
<p>è™šå‡½æ•°è¡¨é‡Œå­˜æ”¾äº†ç±»ä¸­æ‰€æœ‰<code>virtual</code>ä¿®é¥°çš„è™šå‡½æ•°ï¼Œå½“ç¨‹åºéœ€è¦æ‰§è¡Œçš„å‡½æ•°æ˜¯è™šå‡½æ•°æ—¶ï¼Œ<code>__vfptr</code>æŒ‡é’ˆä¼šæ ¹æ®ç¨‹åºæŒ‡ä»¤ä»è™šå‡½æ•°è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„è™šå‡½æ•°ç„¶åæ‰§è¡Œã€‚</p>
<p><code>__vfptr</code>ç›¸å½“äºæ˜¯ç¼–è¯‘ç³»ç»Ÿé¢å¤–åŠ å…¥çš„ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå®ƒæ‰€å¯¹åº”çš„è™šå‡½æ•°è¡¨ä¹Ÿæ˜¯æ ¹æ®æ‰€åœ¨ç±»ç”Ÿæˆçš„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚</p>
<p><code>p</code>æ˜¯ä¸€ä¸ªç±»<code>A</code>çš„æŒ‡é’ˆã€‚è¡Œ<code>fun1()</code>æ—¶ï¼Œç³»ç»Ÿæ ¹æ®<code>p</code>çš„æ•°æ®ç±»å‹æ‰§è¡Œï¼Œå› æ­¤ç±»Açš„æŒ‡é’ˆè‡ªç„¶æ‰§è¡Œç±»<code>A</code>çš„<code>fun1()</code>ã€‚</p>
<p>ä½†æ˜¯å½“æ‰§è¡Œè™šå‡½æ•°<code>fun()</code>æ—¶ï¼Œç¨‹åºå…ˆæ‰¾å‡º<code>p</code>æ‰€æŒ‡åœ°å€ä¸­çš„<code>__vfptr</code>å˜é‡ï¼Œç„¶åç”±å®ƒå»æŸ¥è™šå‡½æ•°è¡¨ã€‚ç”±äº<code>p</code>åœ°å€å­˜æ”¾çš„æ˜¯ç±»<code>B</code>ï¼Œå› æ­¤<code>__vfptr</code>ä¹Ÿå±äºç±»<code>B</code>ï¼Œæ‰€æŸ¥çš„è™šå‡½æ•°è¡¨è‡ªç„¶ä¹Ÿæ˜¯ç±»<code>B</code>çš„è¡¨ï¼Œæ‰€ä»¥ç¨‹åºæœ€ç»ˆæ‰§è¡Œç±»<code>B</code>çš„<code>fun()</code>ã€‚</p>
<p>ç¬¬äºŒä¸ªé—®é¢˜ä¹Ÿå®¹æ˜“ç†è§£ã€‚<code>delete p</code>æ—¶ï¼Œç³»ç»Ÿæ˜¯ä¸çŸ¥é“è¿™ä¸ªæŒ‡é’ˆé‡Œé¢è£…äº†ä»€ä¹ˆï¼Œå®ƒåªçŸ¥é“è¿™æ˜¯ä¸€ä¸ªç±»<code>A</code>çš„æŒ‡é’ˆï¼Œæ‰€æœ‰åªæ‰§è¡Œç±»<code>A</code>çš„ææ„å‡½æ•°ï¼Œè¿™å°±äº§ç”Ÿäº†éšæ‚£ã€‚</p>
<p>æ ¹æ®å‰é¢æåˆ°çš„ï¼Œä¹Ÿå¾ˆå®¹æ˜“æƒ³åˆ°å¯¹åº”æ–¹æ³•ã€‚åªè¦æˆ‘ä»¬æŠŠ<code>~A()</code>ä¹Ÿå†™æˆä¸€ä¸ªè™šå‡½æ•°ï¼Œç¨‹åºåœ¨åˆ é™¤<code>p</code>æ—¶é‡åˆ°äº†<code>virtual ~A()</code>ï¼Œå°±åˆå»æ‰¾<code>__vfptr</code>äº†ã€‚æ‰¾åˆ°ä»¥åè‡ªç„¶æ˜¯æ‰§è¡Œ<code>~B()</code>ã€‚</p>
<p>ä¸Šè¿°æƒ…å†µçš„ç—‡ç»“åœ¨äºï¼ŒæŒ‡é’ˆçš„æ•°æ®ç±»å‹å’ŒæŒ‡é’ˆæ‰€æŒ‡åœ°å€çš„å®é™…ç±»å‹ä¸ä¸€è‡´ï¼Œ<strong>ä¸€èˆ¬æˆå‘˜å‡½æ•°çš„è°ƒç”¨æ˜¯æ ¹æ®æŒ‡é’ˆæœ¬èº«çš„ç±»å‹å†³å®šçš„ï¼Œè€Œè™šå‡½æ•°åˆ™æ˜¯ä¾èµ–äºåœ°å€å†…æ•°æ®çš„ç±»å‹ã€‚</strong></p>
<p>äºæ˜¯æˆ‘ä»¬æƒ³åˆ°å¦å¤–ä¸€ç§é”™è¯¯ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç±»<code>B</code>ä¸­æ·»åŠ å‡½æ•°<code>virtual fun2()</code>ï¼Œå†ç»™ä¸€ä¸ª<code>B* p</code>èµ‹å€¼ä¸€ä¸ªç±»<code>A</code>çš„å®ä¾‹<code>a</code>ç„¶åè°ƒç”¨<code>fun2()</code>ã€‚æ˜¾è€Œæ˜“è§ï¼Œç¼–è¯‘å™¨æ‰¾ä¸åˆ°å¯¹åº”å‡½æ•°ã€‚ï¼ˆäº‹å®ä¸Šï¼Œæœ‰äº›ç¼–è¯‘å™¨ä¸èƒ½æ¥å—å°†<strong>çˆ¶ç±»å¯¹è±¡å®ä¾‹èµ‹å€¼ç»™å­ç±»å¯¹è±¡æŒ‡é’ˆ</strong>ï¼‰</p>
<h5 id="è™šå‡½æ•°å†…å­˜åˆ†é…"><a href="#è™šå‡½æ•°å†…å­˜åˆ†é…" class="headerlink" title="è™šå‡½æ•°å†…å­˜åˆ†é…"></a><strong>è™šå‡½æ•°å†…å­˜åˆ†é…</strong></h5><p><strong>ä¸åŒç¼–è¯‘å™¨å¯¹è™šå‡½æ•°çš„å¤„ç†ä¸åŒå¯èƒ½å¯¼è‡´å†…å­˜åˆ†é…æœ‰æ‰€ä¸åŒï¼Œä¸‹é¢éƒ½ä»¥ TDM-GCC 4.9.2 32bit Debug ä¸ºä¾‹</strong></p>
<ol>
<li>å•ç»§æ‰¿ä¸­ï¼Œæœ€ç»ˆå­ç±»åªä¼šæœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œå ç”¨å†…å­˜åº”è¯¥åŠ ä¸Š<code>sizeof(**void)</code></li>
<li>æ™®é€šå¤šç»§æ‰¿ä¸­ï¼Œå­ç±»ä¼šä»æ¯ä¸€ä¸ªçˆ¶ç±»ä¸­ç»§æ‰¿ä¸€ä¸ª<code>__vfptr</code>å˜é‡ã€‚</li>
<li>è™šç»§æ‰¿çš„è™šå‡½æ•°æ¯”è¾ƒå¤æ‚ã€‚å®ƒæ—¢æœ‰<code>__vfptr</code>åˆæœ‰<code>__vbptr</code>ï¼Œä¸è¿‡ä¸€äº›ç¼–è¯‘å™¨ä¼šå°†äºŒè€…åˆæˆä¸ºä¸€ä¸ªæ–°æŒ‡é’ˆ<code>__vptr</code>ï¼Œæ‰€ä»¥è¿™ç±»ç¼–è¯‘å™¨åœ¨å†…å­˜åˆ†é…ä¸Šå’Œä¸Šä¸€ç§æƒ…å†µç±»ä¼¼ã€‚</li>
</ol>
<h5 id="çº¯è™šå‡½æ•°"><a href="#çº¯è™šå‡½æ•°" class="headerlink" title="çº¯è™šå‡½æ•°"></a>çº¯è™šå‡½æ•°</h5><p>çº¯è™šå‡½æ•°æ˜¯ç‰¹æ®Šçš„è™šå‡½æ•°ï¼Œå®ƒåœ¨çˆ¶ç±»ä¸­æ²¡æœ‰å®šä¹‰å‡½æ•°ä½“ï¼Œåªæ˜¯å£°æ˜ã€‚</p>
<p>çº¯è™šå‡½æ•°çš„åŸºæœ¬è¯­æ³•ä¸º</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">virtual</span> è¿”å›ç±»å‹ å‡½æ•°åç§°()=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>çº¯è™šå‡½æ•°åœ¨è¢«é‡å†™å‰ä¸èƒ½è°ƒç”¨ï¼Œå› ä¸ºå®ƒåªæ˜¯å‡½æ•°å£°æ˜ã€‚</p>
<p>å­ç±»å¯ä»¥é‡æ–°çˆ¶ç±»çš„çº¯è™šå‡½æ•°ï¼Œå¦‚æœä¸é‡å†™ï¼Œåˆ™è¯¥å‡½æ•°åœ¨å­ç±»ä¸­ä»ç„¶æ˜¯çº¯è™šå‡½æ•°ã€‚</p>
<p>åŒ…å«çº¯è™šå‡½æ•°çš„ç±»ç§°ä¸º<strong>æŠ½è±¡ç±»</strong>ï¼Œ<strong>æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–</strong>ã€‚</p>
<p>å¯ä»¥çœ‹å‡ºï¼Œçº¯è™šå‡½æ•°æœ‰ç±»ä¼¼äºæ¨¡æ¿çš„åŠŸèƒ½ã€‚</p>
<p>æœ€åæ˜¯ä¸€äº›å…³äºè™šå‡½æ•°çš„ä½¿ç”¨ä¹ æƒ¯</p>
<ol>
<li>åŸºç±»çš„ææ„å‡½æ•°æœ€å¥½æ˜¯è™šææ„ã€‚</li>
<li>ä¸èƒ½å°†é™æ€æˆå‘˜å‡½æ•°å®šä¹‰ä¸ºè™šå‡½æ•°ã€‚</li>
<li>åœ¨ç±»å¤–å®šä¹‰è™šå‡½æ•°çš„å‡½æ•°ä½“æ—¶ä¸éœ€è¦åŠ <code>virtual</code>å…³é”®å­—ã€‚</li>
<li>æ„é€ å‡½æ•°å’Œå‹å…ƒå‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚</li>
</ol>
<h4 id="æ–‡ä»¶è¯»å†™"><a href="#æ–‡ä»¶è¯»å†™" class="headerlink" title="æ–‡ä»¶è¯»å†™"></a>æ–‡ä»¶è¯»å†™</h4><p>æ·»åŠ å¤´æ–‡ä»¶<code>&lt;iostream&gt;</code></p>
<h5 id="ios"><a href="#ios" class="headerlink" title="ios"></a>ios</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ios::in <span class="comment">//è¯»æ–‡ä»¶</span></span><br><span class="line">ios::out <span class="comment">//å†™æ–‡ä»¶</span></span><br><span class="line">ios::app <span class="comment">//åœ¨æœ«å°¾è¿½åŠ </span></span><br><span class="line">ios::trunc <span class="comment">//åˆ é™¤åŸæ–‡ä»¶ååˆ›å»º</span></span><br><span class="line">ios::ate <span class="comment">//æ‰“å¼€æ—¶å®šä½åˆ°æœ«å°¾</span></span><br><span class="line">ios::binary <span class="comment">//äºŒè¿›åˆ¶è¯»å†™</span></span><br><span class="line">ios::nocreate <span class="comment">//ä¸åˆ›å»ºæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æ—¶æ‰“å¼€å¤±è´¥</span></span><br><span class="line">ios::noreplace <span class="comment">//ä¸è¦†ç›–åŸæ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶æ‰“å¼€å¤±è´¥</span></span><br></pre></td></tr></table></figure>

<h5 id="å†™æ–‡ä»¶"><a href="#å†™æ–‡ä»¶" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h5><p>æ–‡æœ¬æ–‡ä»¶</p>
<ol>
<li><p><code>f&lt;&lt;data; </code></p>
<p>å†™å…¥ä¸€ä¸ª<code>const char* </code>å˜é‡</p>
</li>
<li><p><code>f.put(); </code></p>
<p>å†™å…¥ä¸€ä¸ªå­—ç¬¦</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fstream f;</span><br><span class="line">	f.<span class="built_in">open</span>(<span class="string">&quot;t.txt&quot;</span>,ios::out);</span><br><span class="line">	<span class="comment">//ç”¨&lt;&lt;å†™æ–‡ä»¶</span></span><br><span class="line">	f&lt;&lt;<span class="string">&quot;sentence 1\n&quot;</span>;</span><br><span class="line">	<span class="type">const</span> <span class="type">char</span>* str= <span class="string">&quot;sentence 2\n&quot;</span>;</span><br><span class="line">	f&lt;&lt;str;</span><br><span class="line">	<span class="comment">//ç”¨put()å†™æ–‡ä»¶</span></span><br><span class="line">	<span class="type">char</span> c = <span class="string">&#x27;d&#x27;</span>;</span><br><span class="line">	f.<span class="built_in">put</span>(d);</span><br><span class="line">	f.<span class="built_in">close</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>äºŒè¿›åˆ¶æ–‡ä»¶</p>
<ol>
<li><p><code>f.write((char*)&amp; data , sizeof(data) );</code> </p>
<p>å†™å…¥æŒ‡å®šé•¿åº¦æ•°æ®</p>
</li>
<li><p><code>f.put(bytes);</code></p>
<p>å†™å…¥ä¸€ä¸ªå­—èŠ‚</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f.<span class="built_in">open</span>(<span class="string">&quot;b.txt&quot;</span>,ios::out|ios::binary);</span><br><span class="line"><span class="type">int</span> data[<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">f.<span class="built_in">write</span>((<span class="type">char</span>*)data,<span class="built_in">sizeof</span>(data));</span><br><span class="line">f.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure>

<h5 id="è¯»æ–‡ä»¶"><a href="#è¯»æ–‡ä»¶" class="headerlink" title="è¯»æ–‡ä»¶"></a>è¯»æ–‡ä»¶</h5><p><strong>æ–‡æœ¬æ–‡ä»¶</strong></p>
<ol>
<li><p><code>f&gt;&gt;buf;</code></p>
<p>è¯»å–åˆ°ç©ºæ ¼ã€åˆ¶è¡¨ã€æ¢è¡Œåœæ­¢æˆ–<code>sizeof(buf)</code>å¤§å°çš„æ•°æ®</p>
</li>
<li><p><code>getline(f,s)</code></p>
<p>è¯»å–ä¸€è¡Œå­˜å…¥<code>string</code>å˜é‡</p>
</li>
<li><p><code>f.get()</code>æˆ–&#96;&#96;f.get(c)&#96;</p>
<p>è¯»å–ä¸€ä¸ªå­—ç¬¦å­˜å…¥<code>char</code>å˜é‡</p>
</li>
<li><p><code>f.getline(buf,size)</code></p>
<p>è¯»å–<code>size</code>å¤§å°æˆ–ä¸€è¡Œæ•°æ®åˆ°<code>buf</code>æ•°ç»„</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">f.<span class="built_in">open</span>(<span class="string">&quot;t.txt&quot;</span>,ios::in);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ–¹æ³•ï¼Œè¯»å–ä¸€è¡Œæˆ–åˆ°bufæ•°ç»„è¢«å†™æ»¡</span></span><br><span class="line"><span class="type">char</span> buf[<span class="number">1024</span>];</span><br><span class="line">f.<span class="built_in">getline</span>(buf,<span class="number">1024</span>);</span><br><span class="line">cout&lt;&lt;buf&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§æ–¹æ³•ï¼Œè¯»å–ä¸€è¡Œ</span></span><br><span class="line">string s;</span><br><span class="line"><span class="built_in">getline</span>(f,s);</span><br><span class="line">cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œè¯»å–ä¸€ä¸ªå­—ç¬¦ï¼ˆç»“æŸå­—ç¬¦ä¸ºEOF)</span></span><br><span class="line"><span class="type">char</span> c;</span><br><span class="line"><span class="keyword">while</span>((c=f.<span class="built_in">get</span>())!=<span class="string">&#x27;\n&#x27;</span>)&#123;</span><br><span class="line">	cout&lt;&lt;c;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€ä¸ªè¯»å–ï¼Œé‡åˆ°ç©ºæ ¼ã€åˆ¶è¡¨ã€å›è½¦ç­‰åœæ­¢</span></span><br><span class="line">f&gt;&gt;buf;</span><br><span class="line">cout&lt;&lt;buf&lt;&lt;endl;</span><br><span class="line">f.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure>

<p><strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong></p>
<ol>
<li><code>f.read((char*)&amp; data ,sizeof(data));</code></li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fstream f;</span><br><span class="line">	f.<span class="built_in">open</span>(<span class="string">&quot;t.txt&quot;</span>,ios::in|ios::binary);</span><br><span class="line">	<span class="type">int</span> input[<span class="number">3</span>];</span><br><span class="line">	f.<span class="built_in">read</span>((<span class="type">char</span>*)input,<span class="built_in">sizeof</span>(input));</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) cout&lt;&lt;input[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	f.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure>

<h5 id="æ–‡ä»¶æ£€éªŒå‡½æ•°"><a href="#æ–‡ä»¶æ£€éªŒå‡½æ•°" class="headerlink" title="æ–‡ä»¶æ£€éªŒå‡½æ•°"></a>æ–‡ä»¶æ£€éªŒå‡½æ•°</h5><ol>
<li><code>f.bad()</code> è¯»å†™é”™è¯¯</li>
<li><code>f.fail()</code> è¯»å†™åŠæ ¼å¼é”™è¯¯</li>
<li><code>f.eof()</code> ç»“æŸæ ‡å¿—</li>
<li><code>f.good()</code> ä»¥ä¸Šä¸‰ä¸ªçš„é›†åˆ</li>
<li><code>f.is_open()</code> æ–‡ä»¶æ‰“å¼€åˆ¤å®š</li>
</ol>
<h5 id="ä½ç½®æŒ‡é’ˆ"><a href="#ä½ç½®æŒ‡é’ˆ" class="headerlink" title="ä½ç½®æŒ‡é’ˆ"></a>ä½ç½®æŒ‡é’ˆ</h5><p>ä½ç½®æŒ‡é’ˆä¸»è¦ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™ï¼Œå› ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶å†…éƒ¨æ¯ä¸ªå­—ç¬¦å¤§å°ä¸€æ ·ï¼Œè€Œæ–‡æœ¬æ–‡ä»¶æœ‰äº›ç‰¹æ®Šå­—ç¬¦å ä½ä¸åŒã€‚</p>
<p>æ–‡ä»¶æŒ‡é’ˆä¸»è¦æœ‰ä¸¤å¥—</p>
<ol>
<li><p><code>seekp()/tellp()</code></p>
<p>è¿™ä¸¤ä¸ªæ˜¯å¯¹å†™å…¥æŒ‡é’ˆçš„æ“ä½œï¼Œå‰è€…æ˜¯æ”¹å˜å½“å‰æŒ‡é’ˆä½ç½®ï¼Œåè€…æ˜¯è·å–ã€‚</p>
</li>
<li><p><code>seekg()/tellg()</code></p>
<p>è¿™ä¸¤ä¸ªæ˜¯å¯¹è¯»å–æŒ‡é’ˆçš„æ“ä½œï¼ŒåŒæ ·å‰è€…æ˜¯ä¿®æ”¹ï¼Œåè€…æ˜¯è·å–ã€‚</p>
</li>
</ol>
<p>å‡½æ•°å‚æ•°ä¸»è¦æ˜¯ä¸€ä¸ªæ•´å‹å’Œä¸€ä¸ª<code>ios</code>ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f.<span class="built_in">seekg</span>(n,ios::beg); <span class="comment">//ä»å¼€å¤´å‘åç§»åŠ¨nå­—èŠ‚</span></span><br><span class="line">f.<span class="built_in">seekg</span>(n,ios::cur); <span class="comment">//ä»å½“å‰ä½ç½®å‘åç§»åŠ¨nå­—èŠ‚</span></span><br><span class="line">f.<span class="built_in">seekg</span>(n,ios::end); <span class="comment">//ä»æœ«å°¾å‘å‰ç§»åŠ¨nå­—èŠ‚</span></span><br></pre></td></tr></table></figure>

<h4 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h4><h5 id="æ¨¡æ¿å£°æ˜æ ¼å¼"><a href="#æ¨¡æ¿å£°æ˜æ ¼å¼" class="headerlink" title="æ¨¡æ¿å£°æ˜æ ¼å¼"></a>æ¨¡æ¿å£°æ˜æ ¼å¼</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­<code>class</code>å¯ä»¥ç”¨<code>typename</code>æ›¿æ¢ã€‚</p>
<h5 id="æ³¨æ„äº‹é¡¹-2"><a href="#æ³¨æ„äº‹é¡¹-2" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="comment">//æ— å‚æ¨¡æ¿å‡½æ•° </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;fun()\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ™®é€šå‡½æ•° </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;add(),result is :&quot;</span>&lt;&lt;a+b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¨¡æ¿å‡½æ•° </span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T a,T b)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;add() in template,result is :&quot;</span>&lt;&lt;a+b&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//fun(); </span></span><br><span class="line">	<span class="built_in">fun</span>&lt;<span class="type">char</span>&gt;();</span><br><span class="line">	<span class="type">int</span> a=<span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> b=<span class="number">2</span>;</span><br><span class="line">	<span class="type">float</span> bb=<span class="number">2.0</span>;</span><br><span class="line">	<span class="comment">//ä¸èƒ½åŒ¹é…æ¨¡æ¿å‡½æ•° </span></span><br><span class="line">	<span class="built_in">add</span>(a,bb);</span><br><span class="line">	<span class="comment">//ä¼˜å…ˆè°ƒç”¨æ™®é€šå‡½æ•° </span></span><br><span class="line">	<span class="built_in">add</span>(a,b);</span><br><span class="line">	<span class="comment">//ä¼˜å…ˆåŒ¹é…æ¨¡æ¿å‡½æ•° </span></span><br><span class="line">	<span class="built_in">add</span>(<span class="number">1.1</span>,<span class="number">2.2</span>);</span><br><span class="line">	<span class="comment">//è°ƒç”¨æ¨¡æ¿å‡½æ•°æ—¶å‘ç”Ÿå¼ºåˆ¶ç±»å‹è½¬æ¢ </span></span><br><span class="line">	<span class="built_in">add</span>&lt;<span class="type">char</span>&gt;(<span class="number">114514</span>,<span class="number">1919810</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>åœ¨è°ƒç”¨æ¨¡æ¿å‡½æ•°æ—¶ï¼Œæœ€å¥½ç”¨<code>&lt;&gt;</code>æŒ‡å®šæ•°æ®ç±»å‹ï¼›å¦‚æœæ²¡æœ‰äº‹å…ˆå£°æ˜ï¼Œåˆ™ç¼–è¯‘å™¨æ ¹æ®ä¼ å…¥å‚æ•°çš„ç±»å‹<strong>è‡ªåŠ¨æ¨å¯¼</strong>ã€‚</li>
<li>å¯¹äº<strong>æ— å‚æ¨¡æ¿å‡½æ•°</strong>ï¼Œ<strong>å¿…é¡»æŒ‡å®š</strong>æ•°æ®ç±»å‹ã€‚</li>
<li>ç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼æ—¶ï¼Œ<strong>åŒä¸€ä¸ªå‚æ•°æ¨¡æ¿<code>T</code>çš„å½¢å‚å¿…é¡»æ˜¯åŒä¸€ç±»å‹</strong>ï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•åˆ†è¾¨åº”è¯¥ç”¨å“ªç§æ•°æ®ç±»å‹ã€‚</li>
<li>æŒ‡å®šæ•°æ®ç±»å‹åï¼Œç¼–è¯‘å™¨åœ¨æ‰§è¡Œå‡½æ•°æ—¶ä¼š<strong>éšå«å¼ºåˆ¶æ•°æ®ç±»å‹è½¬æ¢</strong>ã€‚</li>
<li>èƒ½ç›´æ¥åŒ¹é…æ™®é€šå‡½æ•°çš„æƒ…å†µä¸‹ä¼š<strong>å…ˆè°ƒç”¨æ™®é€šå‡½æ•°</strong>ã€‚</li>
<li>ä¸èƒ½ç›´æ¥åŒ¹é…æ™®é€šå‡½æ•°ï¼Œä½†æ˜¯åŒ¹é…æ¨¡æ¿å‡½æ•°æ—¶ï¼Œæ‰è°ƒç”¨æ¨¡æ¿å‡½æ•°ã€‚</li>
<li>ä¸¤ç§å‡½æ•°éƒ½ä¸èƒ½åŒ¹é…ï¼Œåˆ™è¿›è¡Œ<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>åè°ƒç”¨<strong>æ™®é€šå‡½æ•°</strong>ã€‚</li>
</ol>
<h5 id="ç±»æ¨¡æ¿"><a href="#ç±»æ¨¡æ¿" class="headerlink" title="ç±»æ¨¡æ¿"></a>ç±»æ¨¡æ¿</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>=<span class="type">int</span>&gt;</span><br><span class="line"><span class="keyword">class</span> C&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		T1 name;</span><br><span class="line">		T2 age;</span><br><span class="line">		<span class="built_in">C</span>(T1 name ,T2 age);</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</span><br><span class="line">			cout&lt;&lt;<span class="string">&quot;name: &quot;</span>&lt;&lt;name&lt;&lt;endl&lt;&lt;<span class="string">&quot;age: &quot;</span>&lt;&lt;age&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">			name=name+<span class="string">&quot;world&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T1</span>, <span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line">C&lt;T1,T2&gt;::<span class="built_in">C</span>(T1 name ,T2 age)&#123;</span><br><span class="line">	<span class="keyword">this</span>-&gt;name=name;</span><br><span class="line">	<span class="keyword">this</span>-&gt;age=age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="function">C&lt;<span class="type">char</span>*,<span class="type">int</span>&gt; <span class="title">c1</span><span class="params">(<span class="string">&quot;hello&quot;</span>,<span class="number">10</span>)</span></span>;</span><br><span class="line">	c1.<span class="built_in">fun</span>();</span><br><span class="line">	<span class="comment">//c1.add();</span></span><br><span class="line">	<span class="function">C&lt;<span class="type">char</span>*&gt; <span class="title">c2</span><span class="params">(<span class="string">&quot;world&quot;</span>,<span class="number">12</span>)</span></span>;</span><br><span class="line">	c2.<span class="built_in">fun</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>ç±»æ¨¡æ¿åœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¿…é¡»æŒ‡æ˜æ•°æ®ç±»å‹ã€‚</p>
</li>
<li><p>ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°å¯ä»¥ä»»æ„å®šä¹‰ï¼Œä½†æ˜¯å®ä¾‹åŒ–åä¸€äº›å‡½æ•°å¯èƒ½ä¼šå› ä¸ºè¯­æ³•é—®é¢˜ä¸èƒ½è°ƒç”¨ã€‚</p>
</li>
<li><p>ç±»æ¨¡æ¿å¯ä»¥æœ‰é»˜è®¤æ•°æ®ç±»å‹ã€‚ï¼ˆæ¨¡æ¿å‡½æ•°åœ¨ä¸€äº›ç‰ˆæœ¬ä¸­ä¹Ÿå¯ä»¥ï¼Œä½†ä¸ºäº†å…¼å®¹æ€§ï¼Œä¸æ¨èè¿™ä¹ˆå¹²ï¼‰</p>
</li>
<li><p>åœ¨ç±»å¤–å®šä¹‰ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œä¹Ÿéœ€è¦ç”¨åˆ°æ¨¡æ¿</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>,...&gt;;</span><br><span class="line">ReturnType ClassName&lt;T1,T2...&gt;::<span class="built_in">FunName</span>(T1 a1,T2,a2,...)&#123;</span><br><span class="line">    ...;</span><br><span class="line">    ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>ç±»æ¨¡æ¿ä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°å‚æ•°ä¼ å…¥</strong>ï¼Œæ­¤æ—¶å¯ä»¥æœ‰ä¸‰ç§å†™æ³•</p>
<ol>
<li><p><code>ReturnType FunName(ClassName&lt;Type1,Type2&gt; &amp; p)</code></p>
</li>
<li><p>&#96;&#96;&#96;C++<br>template&lt;class T1,class T2&gt;;<br>ReturnType FunName(ClassName&lt;T1,T2&gt; &amp; p)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. ```C++</span><br><span class="line">   template&lt;class T&gt;ï¼›</span><br><span class="line">   ReturnType FunName(T &amp; p)</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>ç±»æ¨¡æ¿ä½œä¸ºçˆ¶ç±»ç»§æ‰¿æ—¶ï¼Œæœ‰ä»¥ä¸‹è§„åˆ™</strong></p>
<ol>
<li><p>å­ç±»æ˜¯å…·ä½“ç±»æ—¶ï¼Œå¿…é¡»æŒ‡å®šçˆ¶ç±»çš„ç±»å‹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;;</span><br><span class="line"><span class="function"><span class="keyword">class</span> <span class="title">F</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    T a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">S</span>: <span class="keyword">public</span> F&lt;<span class="type">int</span>&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>å­ç±»ä¹Ÿæ˜¯æ¨¡æ¿ç±»ï¼Œåˆ™å¯ä»¥ç»§ç»­ç”¨æ¨¡æ¿è¡¨ç¤ºçˆ¶ç±»ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;;</span><br><span class="line"><span class="function"><span class="keyword">class</span> <span class="title">F</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    T a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T1</span>,<span class="keyword">class</span> <span class="title class_">T2</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">S</span>: <span class="keyword">public</span> F&lt;T2&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    T1 b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Cata1ysts
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="http://example.com/2023/04/26/C++%E6%8B%BE%E9%81%97/" title="C++æ‹¾é—">http://example.com/2023/04/26/C++æ‹¾é—/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"># C++</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/23/HTML%E5%AD%A6%E4%B9%A0/" rel="prev" title="HTMLå­¦ä¹ ç¬”è®°">
      <i class="fa fa-chevron-left"></i> HTMLå­¦ä¹ ç¬”è®°
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/07/06/C++STL%E7%AC%94%E8%AE%B0/" rel="next" title="C++STLç¬”è®°">
      C++STLç¬”è®° <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">å¼•ç”¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class"><span class="nav-number">2.</span> <span class="nav-text">Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E9%85%8D"><span class="nav-number">2.0.1.</span> <span class="nav-text">æ•°æ®åˆ†é…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BF%AB%E9%80%9F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">2.0.2.</span> <span class="nav-text">æ„é€ å‡½æ•°å¿«é€Ÿåˆå§‹åŒ–</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">2.0.3.</span> <span class="nav-text">æ‹·è´æ„é€ å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">2.0.3.1.</span> <span class="nav-text">æ·±æ‹·è´ä¸æµ…æ‹·è´</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">2.0.3.2.</span> <span class="nav-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="nav-number">2.0.4.</span> <span class="nav-text">é™æ€æˆå‘˜å˜é‡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this%E6%8C%87%E9%92%88"><span class="nav-number">2.0.5.</span> <span class="nav-text">thisæŒ‡é’ˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#const%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">2.0.6.</span> <span class="nav-text">constä¿®é¥°çš„æˆå‘˜å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8B%E5%85%83"><span class="nav-number">2.0.7.</span> <span class="nav-text">å‹å…ƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="nav-number">2.0.8.</span> <span class="nav-text">è¿ç®—ç¬¦é‡è½½</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="nav-number">2.0.8.1.</span> <span class="nav-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">2.0.9.</span> <span class="nav-text">ç»§æ‰¿</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">2.0.9.1.</span> <span class="nav-text">ç»§æ‰¿çš„ç‰¹ç‚¹</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="nav-number">2.0.9.2.</span> <span class="nav-text">ç»§æ‰¿çš„æˆå‘˜å˜é‡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%99%9A%E7%BB%A7%E6%89%BF"><span class="nav-number">2.0.9.3.</span> <span class="nav-text">è™šç»§æ‰¿</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%99%9A%E7%BB%A7%E6%89%BF%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="nav-number">2.0.9.4.</span> <span class="nav-text">è™šç»§æ‰¿å†…å­˜åˆ†é…</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0"><span class="nav-number">2.0.10.</span> <span class="nav-text">è™šå‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#vfptr%E6%8C%87%E9%92%88"><span class="nav-number">2.0.10.1.</span> <span class="nav-text">__vfptræŒ‡é’ˆ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="nav-number">2.0.10.2.</span> <span class="nav-text">è™šå‡½æ•°å†…å­˜åˆ†é…</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0"><span class="nav-number">2.0.10.3.</span> <span class="nav-text">çº¯è™šå‡½æ•°</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-number">2.0.11.</span> <span class="nav-text">æ–‡ä»¶è¯»å†™</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ios"><span class="nav-number">2.0.11.1.</span> <span class="nav-text">ios</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-number">2.0.11.2.</span> <span class="nav-text">å†™æ–‡ä»¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="nav-number">2.0.11.3.</span> <span class="nav-text">è¯»æ–‡ä»¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%A3%80%E9%AA%8C%E5%87%BD%E6%95%B0"><span class="nav-number">2.0.11.4.</span> <span class="nav-text">æ–‡ä»¶æ£€éªŒå‡½æ•°</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E6%8C%87%E9%92%88"><span class="nav-number">2.0.11.5.</span> <span class="nav-text">ä½ç½®æŒ‡é’ˆ</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-number">2.0.12.</span> <span class="nav-text">æ¨¡æ¿</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E5%A3%B0%E6%98%8E%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.0.12.1.</span> <span class="nav-text">æ¨¡æ¿å£°æ˜æ ¼å¼</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-2"><span class="nav-number">2.0.12.2.</span> <span class="nav-text">æ³¨æ„äº‹é¡¹</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="nav-number">2.0.12.3.</span> <span class="nav-text">ç±»æ¨¡æ¿</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Cata1ysts"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Cata1ysts</p>
  <div class="site-description" itemprop="description">åŠªåŠ›å­¦ä¹ cryptoå¹¶å¸Œæœ›æœ‰ä¸€ä¸ªwebå¤§æ‰‹å­æµ‡æµ‡çš„pwnèŒæ–°</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cata1ysts</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  


   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"left","width":150,"height":250},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
